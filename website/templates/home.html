{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
    %}
    <div class="row mb-4">
          <div class="col-md-4">
      <div class="stats-card">
        <div class="stats-number">{{ total_notes }}</div>
        <div class="stats-label">Total Notes</div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="stats-card" style="background: linear-gradient(135deg, #10b981, #059669);">
        <div class="stats-number">{{ today_notes }}</div>
        <div class="stats-label">Today's Notes</div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="stats-card" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
        <div class="stats-number">{{ week_notes }}</div>
        <div class="stats-label">This Week</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-8">
        <div class="card">
          <div class="card-header bg-transparent border-0">
            <h4 class="mb-0">
              <i class="bi bi-journal-text me-2"></i>My Notes
            </h4>
          </div>
          <div class="card-body">
            {% if user.notes %}
            <div id="notes">
              {% for note in user.notes|sort(attribute='date', reverse=true) %}
              <div class="note-item" id="note-{{ note.id }}">
                <div class="d-flex justify-content-between align-items-start">
                  <div class="flex-grow-1">
                    <p class="mb-1">{{ note.data }}</p>
                    <div class="note-date">
                      <i class="bi bi-clock me-1"></i>
                      {{ note.date.strftime('%B %d, %Y at %I:%M %p') }}
                    </div>
                  </div>
                  <div class="ms-3">
                    <button type="button" class="delete-btn" onclick="deleteNote({{ note.id }})" title="Delete note">
                      <i class="bi bi-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-5">
              <i class="bi bi-journal-x display-1 text-muted"></i>
              <h5 class="mt-3 text-muted">No notes yet</h5>
              <p class="text-muted">Create your first note to get started!</p>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      
      <div class="col-lg-4">
        <div class="card">
          <div class="card-header bg-transparent border-0">
            <h5 class="mb-0">
              <i class="bi bi-plus-circle me-2"></i>Add New Note
            </h5>
          </div>
          <div class="card-body">
            <form method="POST" id="noteForm">
              <div class="mb-3">
                <textarea 
                  name="note" 
                  id="note" 
                  class="form-control" 
                  rows="4" 
                  placeholder="Write your note here..."
                  required
                ></textarea>
              </div>
              <div class="d-grid">
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-plus-circle me-2"></i>Add Note
                </button>
              </div>
            </form>
          </div>
        </div>
        
        <div class="card mt-3">
          <div class="card-header bg-transparent border-0">
            <h5 class="mb-0">
              <i class="bi bi-lightning me-2"></i>Quick Actions
            </h5>
          </div>
          <div class="card-body">
            <div class="d-grid gap-2">
              <button class="btn btn-outline-primary" onclick="clearAllNotes()">
                <i class="bi bi-trash me-2"></i>Clear All Notes
              </button>
              <button class="btn btn-outline-secondary" onclick="exportNotes()">
                <i class="bi bi-download me-2"></i>Export Notes
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-search me-2"></i>Search Notes
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <input type="text" class="form-control" id="searchInput" placeholder="Search in your notes...">
            <div id="searchResults" class="mt-3"></div>
          </div>
        </div>
      </div>
    </div>
    {% endblock %}